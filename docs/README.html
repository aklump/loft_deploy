<!DOCTYPE html>

<html>
<head>
  <title>Installation</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--readme">
<header>
  <div class="pager"><a href="hooks.html" class="prev hooks">&laquo;Hooks</a><a href="index.html" class="index pager__book-title">Loft Deploy</a><a href="migrations.html" class="next migrations">Migrations&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Loft Deploy</h1>

<section>

<p><img src="images/loft-deploy.jpg" alt="Loft Deploy" /></p>

<h2>Summary</h2>

<p>A bridge across website instances/environments to simplify the exchange of database and files not under SCM.  This was first written having Drupal in mind, though it works for other frameworks as well.</p>

<p><strong>Visit <a href="https://aklump.github.io/loft_deploy">https://aklump.github.io/loft_deploy</a> for full documentation.</strong></p>

<h2>Quick Start</h2>

<p><em>Before you begin, to save from lot's of password entries, you should ensure key-based authentication is working between server instances.</em></p>

<p>Add to your codebase:</p>

<pre><code class="bash">$ cd /path/to/local/app
$ composer require aklump/loft-deploy
</code></pre>

<p>Add the following to <em>.gitignore</em> for your project.</p>

<pre><code class="text">.loft_deploy/
</code></pre>

<p>Now deploy across environments as you would any other change.</p>

<hr />

<p>On your production server do the following to configure it:</p>

<pre><code class="bash">$ cd /path/to/production/app
$ ./vendor/bin/loft_deploy.sh init prod
$ ./vendor/bin/loft_deploy.sh config
$ ./vendor/bin/loft_deploy.sh configtest
$ ./vendor/bin/loft_deploy.sh config-export
</code></pre>

<hr />

<p>On your local machine, configure it, adding the snippet generated in the previous step via <code>config-export</code>.</p>

<pre><code class="bash">$ cd /path/to/local/app
$ ./vendor/bin/loft_deploy.sh init dev
$ ./vendor/bin/loft_deploy.sh config
$ ./vendor/bin/loft_deploy.sh configtest
</code></pre>

<p>Now pull your non SCM assets from production to local:</p>

<pre><code class="bash">$ ./vendor/bin/loft_deploy.sh pull
</code></pre>

<h2>Requirements</h2>

<ol>
<li><a href="https://getcomposer.org/">Composer</a></li>
<li>PHP</li>
<li>Key-based server authentication</li>
</ol>

<h2>Using the <code>ldp</code> command</h2>

<p>To make working with Loft Deploy easier you should install the <code>ldp</code> command,
which allows you to execute <em>vendor/bin/loft_deploy.sh</em> from any directory
within your project.</p>

<h3>Installation</h3>

<ol>
<li><p>After Composer
installing <a href="https://github.com/aklump/loft_deploy">aklump/loft-deploy</a>, place
a symlink to <em>./vendor/bin/ldp.sh</em> somewhere $PATH can find it, e.g.,</p>

<pre><code class="bash">$ cd ~/bin
$ ln -s /path/to/app/vendor/bin/ldp.sh ldp
</code></pre></li>
<li><p>Now use <code>ldp</code> as the command to execute <em>loft_deploy.sh</em> from within any
directory in your project, e.g.,</p>

<pre><code class="bash">$ cd /path/to/app/
$ ldp info
$ cd /path/to/app/web/modules
$ ldp info
</code></pre></li>
</ol>

<h3>Multiple Projects Using Loft Deploy?</h3>

<p>No problem because <em>ldp.sh</em> works across all versions of Loft Deploy, the
symlink to project A will work for project B and C. That is to say, you need
only install one symlink for many projects, even if those many projects have different versions of <em>Loft Deploy</em> installed.</p>

<h2>Configuration</h2>

<p>The configuration file may be edited in one of two ways:</p>

<ol>
<li><code>$ ldp config</code> (using <code>$EDITOR</code>)</li>
<li>Open <em>/path/to/app/.loft_deploy/config.yml</em> in your editor of choice.</li>
</ol>

<p>Be sure to <strong>test your configuration</strong> until you see no warnings  <code>$ ldp configtest</code>.</p>

<p>See also <a href="configuration.html">configuration</a></p>

<h2>Usage</h2>

<p>See inner documentation for how to use.</p>

<h2>Contributing</h2>

<p>If you find this project useful... please consider <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=4E5KZHDQCEUV8&amp;item_name=Gratitude%20for%20aklump%2Floft_deploy">making a donation</a>.</p>

<h2>Contact The Developer</h2>

<p>In the Loft Studios<br />
Aaron Klump - Web Developer<br />
sourcecode@intheloftstudios.com<br />
360.690.6432<br />
PO Box 29294 Bellingham, WA 98228-1294</p>

<p><a href="http://www.intheloftstudios.com">http://www.intheloftstudios.com</a><br />
<a href="https://github.com/aklump">https://github.com/aklump</a></p>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="hooks.html" class="prev hooks">&laquo;Hooks</a><a href="index.html" class="index pager__book-title">Loft Deploy</a><a href="migrations.html" class="next migrations">Migrations&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.22.0 &bull; Last Updated: Mon, 02 May 2022 19:13:57 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>

